<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/masterTemplateBS.xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pe="http://primefaces.org/ui/extensions">


	<ui:define name="metadata">
		<f:metadata>
			<f:viewAction action="#{cartChoice2View.doInit}"></f:viewAction>
			<f:viewParam name="idPrd" value="#{cartChoice2View.idProduct}" />
		</f:metadata>
	</ui:define>


	<ui:define name="title">
		<h:outputText value="Dettaglio Prodotti"></h:outputText>
	</ui:define>

	<ui:define name="content">
		<h:form prependId="false">
		
			<div class="container">

				<!-- BREADCRUMB -->
				<div class="row">
					<ol class="breadcrumb breadcrumbLink" style="margin-top: 10px">
						<ui:repeat var="bread" value="#{cartChoice2View.flowBean.breadCrumb}" varStatus="stBread">
							<li><h:link rendered="#{stBread.last}" outcome="cartFlow" value="#{bread}"
									styleClass="active">
								</h:link> <h:outputLink rendered="#{stBread.first}" value="#{request.contextPath}/faces/home.xhtml"
									styleClass="glyphicon glyphicon-home">
									#{bread}
									</h:outputLink> <h:outputLink rendered="#{stBread.first==false and stBread.last==false}" value="#">
									#{bread}
									</h:outputLink></li>
						</ui:repeat>
					</ol>
				</div>

				<div class="row">
					<!-- IMMAGINE PRINCIPALE E GALLERIA -->
					<div class="col-sm-6">
						<p:galleria value="#{cartChoice2View.flowBean.detailProductFull.imagesUrl}" var="image"
							panelWidth="500" panelHeight="543" showCaption="false">
							<p:graphicImage library="images/cartThumbinals" name="#{image}" />
						</p:galleria>
					</div>
					<!-- DESCRZIONE ARTICOLE, TAGLIE E COLORI -->
					<div class="col-sm-5">
						<div class="well articolo">

							<h4>#{cartChoice2View.flowBean.detailProductFull.txBrand}</h4>
							<h5>#{cartChoice2View.flowBean.detailProductFull.description}</h5>


							<div class="row">
								<div class="col-sm-3">
									<a class="btn-xs btn-block btn-social btn-facebook">
										<i class="fa fa-facebook"></i> #{msg.catalog_facebookLikeIt}
									</a>
								</div>
							</div>

							<br />
							<div class="row">
								<div class="col-sm-3">
									<h:outputText value="#{cartChoice2View.flowBean.detailProductFull.price}"
										styleClass="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted!=null?'onSale':''}">
										<f:converter converterId="it.othala.BigDecimalConverter" />
									</h:outputText>
								</div>

								<div class="col-sm-3">
									<h:outputText value="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted}"
										rendered="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted!=null}">
										<f:converter converterId="it.othala.BigDecimalConverter" />
									</h:outputText>
								</div>
							</div>

							<br />
							<div class="row">
								<div class="col-sm-12">
									<h6>#{msg.catalog_notesDelivery}</h6>
								</div>
							</div>

							<br />
							<h:panelGroup id="pnl-scelte">
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<h:outputText value="#{msg.catalog_size}" />
											<h:selectOneMenu id="selSize" styleClass="form-control" value="#{cartChoice2View.idSize}">
												<f:selectItems value="#{cartChoice2View.sizeItems}"></f:selectItems>
												<f:ajax listener="#{cartChoice2View.changeSize}" execute="@form" render="lst-color" ></f:ajax>
											</h:selectOneMenu>
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<h:outputText value="#{msg.catalog_color}" />
											<h:selectOneMenu styleClass="form-control" id="lst-color"
												value="#{cartChoice2View.idColor}">
												<f:selectItems value="#{cartChoice2View.colorItems}"></f:selectItems>
											</h:selectOneMenu>
										</div>
									</div>
								</div>
							</h:panelGroup>


						</div>

						<div>
							<p:commandButton styleClass="ui-priority-primary" ajax="false" action="cart-confirmation"
								value="#{msg.catalog_addToCart}">

							</p:commandButton>
						</div>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
