<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/masterTemplateBS.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pe="http://primefaces.org/ui/extensions">


	<ui:define name="metadata">
		<f:metadata>
			<f:viewAction action="#{cartChoice2View.doInit}"></f:viewAction>
			<f:viewParam name="idPrd" value="#{cartChoice2View.idProduct}" />
		</f:metadata>
	</ui:define>


	<ui:define name="title">
		<h:outputText value="Dettaglio Prodotti"></h:outputText>
	</ui:define>

	<ui:define name="content">
		<h:form prependId="false">

			<div class="container">

				<!-- BREADCRUMB -->
				<div class="row">
					<ol class="breadcrumb breadcrumbLink" style="margin-top: 10px">
						<ui:repeat var="bread"
							value="#{cartChoice2View.flowBean.breadCrumb}"
							varStatus="stBread">
							<li><h:link rendered="#{stBread.last}" outcome="cartFlow"
									value="#{bread}" styleClass="active">
								</h:link> <h:outputLink rendered="#{stBread.first}"
									value="#{request.contextPath}/faces/home.xhtml"
									styleClass="glyphicon glyphicon-home">
									#{bread}
									</h:outputLink> <h:outputLink
									rendered="#{stBread.first==false and stBread.last==false}"
									value="#">
									#{bread}
									</h:outputLink></li>
						</ui:repeat>
					</ol>
				</div>

				<div class="row">
					<!-- IMMAGINE PRINCIPALE E GALLERIA -->
					<div class="col-md-6">

						<p:galleria
							value="#{cartChoice2View.flowBean.detailProductFull.imagesUrl}"
							var="image" panelWidth="400" panelHeight="543"
							showCaption="false" frameWidth="50" frameHeight="66">
							<p:graphicImage library="images/cartThumbinals" name="#{image}" />
						</p:galleria>

					</div>
					<!-- DESCRZIONE ARTICOLE, TAGLIE E COLORI -->
					<div class="col-md-5 articolo-sel">
						<div class="row well">

							<h4>#{cartChoice2View.flowBean.detailProductFull.txBrand}</h4>
							<h5>#{cartChoice2View.flowBean.detailProductFull.description}</h5>


							<div class="row">
								<div class="col-sm-4">
									<div id="fb-like" class="form-group">
										<a class="btn-xs btn-block btn-social btn-facebook"> <i
											class="fa fa-facebook"></i> #{msg.catalog_facebookLikeIt}
										</a>
									</div>
								</div>
							</div>

							<br />
							<div class="row">
								<div class="col-sm-4">

									<h:outputText
										value="#{cartChoice2View.flowBean.detailProductFull.price}"
										styleClass="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted!=null?'onSale':''}">
										<f:converter converterId="it.othala.BigDecimalConverter" />
									</h:outputText>

								</div>

								<div class="col-sm-4">
									<h:outputText
										value="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted}"
										rendered="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted!=null}">
										<f:converter converterId="it.othala.BigDecimalConverter" />
									</h:outputText>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<h:outputText
										value="#{cartChoice2View.flowBean.detailProductFull.discount}% #{msg.catalog_discounted}"
										rendered="#{cartChoice2View.flowBean.detailProductFull.priceDiscounted!=null}">
									</h:outputText>
								</div>
							</div>

							<br />
							<div class="row">
								<div class="col-sm-12">
									<h6>#{msg.catalog_notesDelivery}</h6>
								</div>
							</div>

							<br />
							<h:panelGroup id="pnl-scelte">
								<div class="row">
									<div class="col-sm-5">
										<div class="form-group">
											<h:outputText value="#{msg.catalog_size}" />

											<h:selectOneMenu id="selSize" styleClass="form-control"
												value="#{cartChoice2View.idSize}">
												<f:selectItem itemLabel="#{msg.catalog_chooseSize}"
													itemValue="" noSelectionOption="true" />
												<f:selectItems value="#{cartChoice2View.sizeItems}"></f:selectItems>
												<f:ajax execute="@form" render="lst-color qtaArt add-cart"
													listener="#{cartChoice2View.changeSize}"></f:ajax>
											</h:selectOneMenu>
											<p:message for="selSize" id="errSelSize" />



										</div>
									</div>
									<div class="col-sm-5">
										<div class="form-group">
											<h:outputText value="#{msg.catalog_color}" />
											<h:selectOneMenu styleClass="form-control"
												label="#{msg.catalog_color}" id="lst-color"
												value="#{cartChoice2View.idColor}">
												<f:selectItem itemLabel="#{msg.catalog_chooseColor}"
													itemValue="" noSelectionOption="true" />
												<f:selectItems value="#{cartChoice2View.colorItems}"></f:selectItems>
												<f:ajax execute="@form" render="qtaArt add-cart"
													listener="#{cartChoice2View.changeColor}"></f:ajax>
											</h:selectOneMenu>
											<p:message for="lst-color" id="errlstColor" />

										</div>
									</div>
								</div>
								<h:panelGroup layout="block" id="qtaArt">
									<div class="row">
										<div class="col-sm-4">

											<h:outputText rendered="#{cartChoice2View.min>0}"
												value="#{msg.catalog_qta}" />
											<div>
												<p:spinner id="spQta" rendered="#{cartChoice2View.min>0}"
													value="#{cartChoice2View.qtaArticle}" maxlength="2"
													size="2" min="#{cartChoice2View.min}"
													max="#{cartChoice2View.max}" />
											</div>

										</div>

									</div>
								</h:panelGroup>


							</h:panelGroup>


						</div>

						<div class="row">


							<div class="col-sm-6">
								<p:commandButton icon="ui-icon-triangle-1-w btn-articolo-sel"
									action="cart-catalog.xhtml?faces-redirect=true"
									value="#{msg.catalog_back}" />
							</div>
							<div class="col-sm-6">
								<p:commandButton
									disabled="#{cartChoice2View.qtaArticle==null or cartChoice2View.qtaArticle==0 }"
									id="add-cart" styleClass="ui-priority-primary btn-articolo-sel"
									value="#{msg.catalog_addToCart}" ajax="false"
									action="#{cartChoice2View.goToCart}">

								</p:commandButton>


							</div>

						</div>






					</div>
				</div>

				<div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 40px;">
					<div class="col-sm-12" ><h3 class="foot1-title" style="font-size: 28px; border-bottom: 0px; margin-left: -15px; font-style: italic; ">RELATED PRODUCTS:
					</h3></div>
				</div>

				<div class="row">
					<div class="col-sm-12">


						<div class="row"
							style="margin-left: 0px; margin-right: 0px; margin-top: 10px;">
							<div class="carousel slide">

								<div class="carousel-inner">


									<ui:repeat var="prod" value="#{cartFlowBean.carouselList}"
										varStatus="status">


										<div class="#{status.first?'item active':'item'}">







											<ul class="thumbnailsCar">





												<li class="col-sm-3">
													<div class="thumbnailCar">

														<h:link outcome="cart-choice-2" rendered="#{prod.product1 != null}">
															<h:graphicImage rendered="#{prod.product1 != null}"
																styleClass="img-responsive"
																library="images/cartThumbinals"
																name="#{prod.product1.imagesUrl}" />
															<f:param name="idPrd" value="#{prod.product1.idProduct}"></f:param>
														</h:link>


													</div>

												</li>

												<li class="col-sm-3">
													<div class="thumbnailCar">
														<h:link outcome="cart-choice-2" rendered="#{prod.product2 != null}">
															<h:graphicImage rendered="#{prod.product2 != null}"
																styleClass="img-responsive"
																library="images/cartThumbinals"
																name="#{prod.product2.imagesUrl}" href="#" />
															<f:param name="idPrd" value="#{prod.product2.idProduct}"></f:param>
														</h:link>
													</div>

												</li>
												<li class="col-sm-3">
													<div class="thumbnailCar">
														<h:link outcome="cart-choice-2" rendered="#{prod.product3 != null}">
															<h:graphicImage rendered="#{prod.product3 != null}"
																styleClass="img-responsive"
																library="images/cartThumbinals"
																name="#{prod.product3.imagesUrl}" href="#" />
															<f:param name="idPrd" value="#{prod.product3.idProduct}"></f:param>
														</h:link>
													</div>

												</li>
												<li class="col-sm-3">
													<div class="thumbnailCar">
														<h:link outcome="cart-choice-2" rendered="#{prod.product4 != null}">
															<h:graphicImage rendered="#{prod.product4 != null}"
																styleClass="img-responsive"
																library="images/cartThumbinals"
																name="#{prod.product4.imagesUrl}" href="#" />
															<f:param name="idPrd" value="#{prod.product4.idProduct}"></f:param>
														</h:link>
													</div>

												</li>
											</ul>
										</div>
									</ui:repeat>





								</div>


								<a data-slide="prev" href="#myCarousel"
									class="left carousel-control" style="width:5%;">‹</a> <a data-slide="next"
									href="#myCarousel" class="right carousel-control" style="width:5%;" >›</a>
							</div>
						</div>

					</div>
				</div>



















			</div>


		</h:form>
	</ui:define>
</ui:composition>
